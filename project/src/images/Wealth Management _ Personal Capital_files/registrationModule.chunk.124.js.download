(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{166:function(e,n,t){"use strict";t.r(n),t.d(n,"registration",(function(){return Q}));var a=t(2),o=t.n(a),r=t(283),i=t.n(r),s=t(1),l=t(230),c=t(237);var d=function(e,n){if(window.ga&&window.ga("send","event","Internal Click","Reg Form Success",window.canonicalUrl),e){window.ga("send","pageview",(t={},a="dimension11",o=e.experimentInfo,a in t?Object.defineProperty(t,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[a]=o,t))}var t,a,o;window.hj&&window.hj("event","registered")},u=t(61);function p(){var e=Object(u.a)(),n=e.registrationFormHook,t=e.usernameInput,a=e.passwdInput,r=e.phoneNumberInput,i=e.submitButton,s=o()(".js-partial-registration-form-submit"),d=o()(".js-form-error"),p=window.history.length;function g(){o()(".js-reg-email-row").toggleClass("u-hidden"),o()(".js-reg-password-row").toggleClass("u-hidden"),o()(".js-incomplete-sign-up-row").toggleClass("u-hidden"),o()(".js-reg-phone-row").toggleClass("u-hidden"),o()(".js-complete-sign-up-row").toggleClass("u-hidden"),o()(".js-two-step-hide-part-two").toggleClass("u-hidden"),o()(".js-two-step-show-part-two").toggleClass("u-hidden"),o()(".js-mobile-portfolio-tracking").toggleClass("u-hidden")}o()("".concat(n," input")).on("keypress",(function(e){return 13!==e.which})),o()("".concat(n," input")).keyup((function(e){13===(e.keyCode||e.which)&&s.click()}));var m={onComplete:function(){d.text(""),Object(l.h)(r)}};r.mask("(000) 000-0000",m),o()("".concat(n," .js-registration-form-phone")).keyup((function(e){i.prop("disabled",!1),13===(e.keyCode||e.which)&&i.click()})),s.click((function(e){var n=Object(l.c)(t),r=Object(l.g)(a);if(n&&r){var i=s.html();s.prop("disabled",!0),s.html("Submitting").addClass("loading"),Object(c.a)({email:t.val()},"two-step-reg",(function(e){var n,a;switch(s.html(i).removeClass("loading"),s.prop("disabled",!1),null==e||null===(n=e.spData)||void 0===n?void 0:n.isRegistered){case!1:Object(c.a)({email:t.val(),marketingParam:"abandon-email"},"two-step-reg"),function(e){d.text(""),void 0!==window.hj&&window.hj("event","View Two Step Reg Step2"),o()(".js-reg-email-row").addClass("u-hidden"),o()(".js-reg-password-row").addClass("u-hidden"),o()(".js-incomplete-sign-up-row").addClass("u-hidden"),o()(".js-two-step-hide-part-two").addClass("u-hidden"),o()(".js-reg-phone-row").removeClass("u-hidden"),o()(".js-complete-sign-up-row").removeClass("u-hidden"),o()(".js-two-step-show-part-two").removeClass("u-hidden"),o()(".js-mobile-portfolio-tracking").addClass("u-hidden");var n=["wealth-management","home","retirement-stages","fees","asset-allocation-calculator","tax-loss-harvesting"].join("|"),t=location.pathname.match(n),a=["home"].join("|"),r=location.pathname.match(a);null===t&&window.scrollTo({top:0,behavior:"smooth"}),null===r&&setTimeout((function(){o()(".js-registration-form-phone").focus()}),100)}(),window.history.pushState({step:"STEP_TWO"},"","");break;case!0:d.html("The email you entered already exists as a registered user on our system. Please <a href=\"https://home.personalcapital.com/page/login/goHome\" onclick=\"ga('send', 'event', 'Internal Click', 'Existing user sign in', '".concat(window.location.href,"');\" onkeypress=\"ga('send', 'event', 'Internal Click', 'Existing user sign in', '").concat(window.location.href,'\');" class="pc-underline-link qa-form-error-sign-in-link js-sign-in-btn">Sign in</a>.'));break;default:d.text(null==e||null===(a=e.spHeader)||void 0===a?void 0:a.errors[0].message)}void 0!==window.hj&&window.hj("event","Submit Two Step Reg Step1")}))}else window.hj&&window.hj("event","triggered validation")})),o()(".js-two-step-back-btn").on("keyup keypress",(function(e){13===(e.keyCode||e.which)&&(e.preventDefault(),g())})),o()(".js-two-step-back-btn").click((function(e){e.preventDefault(),g()})),window.addEventListener("DOMContentLoaded",(function(){window.history.pushState({step:"STEP_ONE"},"","")})),window.onpopstate=function(){var e=o()(".js-reg-email-row").is(":visible");e&&window.history.back(p-window.history.length),e||(g(),window.history.pushState({step:"STEP_ONE"},"",""))}}var g=t(35),m=t(320);function h(){var e=Object(u.a)(),n=e.registrationFormHook,t=e.usernameInput,a=e.passwdInput,r=e.phoneNumberInput,i=e.submitButton,d=o()(".js-partial-registration-form-submit"),p=o()(".js-onboarding-nav-step-one"),h=o()(".js-onboarding-nav-step-two"),w=o()(".js-onboarding-step-one"),v=o()(".js-onboarding-step-two"),f=o()(".js-two-step-back-btn"),b=o()(".js-form-error"),k=window.history.length,j=["quicken","mint","schwab","retirement-planner","pcg","net-worth","retirement-simple","employee-equity-guide","katiez","financial-heroes","better-financial-life","roydebbie","fly","six-months-free"].join("|"),y=location.pathname.match(j);function C(){w.toggleClass("u-hidden"),v.toggleClass("u-hidden"),p.toggleClass("u-hidden"),h.toggleClass("u-hidden")}g.timingFunction.onLoad((function(){void 0!==window.hj&&window.hj("event","View Onboarding Step1")})),o()(".js-onboarding-form__google-btn").click((function(){o()(this).addClass("u-hidden"),o()(".js-onboarding-form-google-btn-clicked").addClass("u-hidden"),o()(".js-onboarding-form__google-help-text").addClass("onboarding-form__header--v4"),o()(".js-onboarding-form__google-help-text").html("We're still working on Sign in with Google.<br/> In the meantime, sign up below.")})),location.pathname.match(/onboarding-v3/)&&Object(m.onboardingV3Steps)(),o()("".concat(n," input")).on("keypress",(function(e){return 13!==e.which})),o()("".concat(n," input")).keyup((function(e){var n=o()(e.target).hasClass("js-registration-form-username"),t=o()(e.target).hasClass("js-registration-form-password");13===(e.keyCode||e.which)&&(n||t)&&d.click()}));var O={onComplete:function(){b.text(""),Object(l.h)(r)}};r.mask("(000) 000-0000",O),o()("".concat(n," .js-registration-form-phone")).keyup((function(e){i.prop("disabled",!1),13===(e.keyCode||e.which)&&i.click()})),d.click((function(e){var n=Object(l.c)(t),r=Object(l.g)(a);if(n&&r){var i=d.text();d.prop("disabled",!0),d.text("Submitting").addClass("loading"),Object(c.a)({email:t.val()},"two-step-reg",(function(e){var n,a;if(d.text(i).removeClass("loading"),d.prop("disabled",!1),e){switch(null==e||null===(n=e.spData)||void 0===n?void 0:n.isRegistered){case!1:var r="abandon-email";Object(s.getCookie)("submittedWildfireTest")&&(r=""),Object(c.a)({email:t.val(),marketingParam:r},"two-step-reg"),location.pathname.match(/onboarding-v3/)?Object(m.showPersonalizeStep)():(b.text(""),w.addClass("u-hidden"),v.removeClass("u-hidden"),p.addClass("u-hidden"),h.removeClass("u-hidden"),null===y&&window.scrollTo({top:0,behavior:"smooth"}),setTimeout((function(){o()(".js-registration-form-phone").focus()}),100),void 0!==window.hj&&window.hj("event","View Onboarding Step2")),window.history.pushState({step:"STEP_TWO"},"","");break;case!0:b.html("The email you entered already exists as a registered user on our system. Please <a href=\"https://home.personalcapital.com/page/login/goHome\" onclick=\"ga('send', 'event', 'Internal Click', 'Existing user sign in', '".concat(window.canonicalUrl,"');\" onkeypress=\"ga('send', 'event', 'Internal Click', 'Existing user sign in', '").concat(window.canonicalUrl,'\');" class="pc-underline-link qa-form-error-sign-in-link js-sign-in-btn">Sign in</a>.'));break;default:b.text(null==e||null===(a=e.spHeader)||void 0===a?void 0:a.errors[0].message)}void 0!==window.hj&&window.hj("event","Submit Onboarding Step1")}else b.text("Technical difficulties, please try again later.")}))}else window.hj&&window.hj("event","triggered validation")})),f.on("keyup keypress",(function(e){13===(e.keyCode||e.which)&&(e.preventDefault(),C())})),f.click((function(e){e.preventDefault(),C()})),window.addEventListener("DOMContentLoaded",(function(){window.history.pushState({step:"STEP_ONE"},"","")})),window.onpopstate=function(){var e=w.is(":visible");e&&window.history.back(k-window.history.length),e||(C(),window.history.pushState({step:"STEP_ONE"},"",""))}}function w(){var e=Object(u.a)(),n=e.registrationFormHook,t=e.usernameInput,a=e.passwdInput,r=e.phoneNumberInput,i=e.submitButton,s=e.firstNameInput,d=e.lastNameInput,p=e.zipCodeInput,m=o()(".js-partial-registration-form-submit"),h=o()(".js-onboarding-nav-step-one"),w=o()(".js-onboarding-nav-step-two"),v=o()(".js-onboarding-step-one"),f=o()(".js-onboarding-step-two"),b=o()(".js-two-step-back-btn"),k=o()(".js-form-error"),j=window.history.length,y=["quicken","mint","schwab","retirement-planner","pcg","net-worth","retirement-simple","employee-equity-guide","katiez","financial-heroes","better-financial-life","roydebbie","fly","six-months-free"].join("|"),C=location.pathname.match(y);function O(){v.toggleClass("u-hidden"),f.toggleClass("u-hidden"),h.toggleClass("u-hidden"),w.toggleClass("u-hidden")}g.timingFunction.onLoad((function(){void 0!==window.hj&&window.hj("event","View Onboarding Step1")}));var S=window.location.search;(S=S.startsWith("?")?S.substr(1,S.length):S).split("&").forEach((function(e){var n=decodeURIComponent(e.split("=")[0]),t=decodeURIComponent(e.split("=")[1]);switch(n){case"firstName":s.attr("value",t);break;case"lastName":d.attr("value",t)}})),o()("".concat(n," input")).on("keypress",(function(e){return 13!==e.which})),o()("".concat(n," input")).keyup((function(e){13===(e.keyCode||e.which)&&m.click()}));var M={onComplete:function(){k.text(""),Object(l.h)(r)}};r.mask("(000) 000-0000",M),p.mask("99999"),o()("".concat(n," .js-registration-form-phone")).keyup((function(e){i.prop("disabled",!1),13===(e.keyCode||e.which)&&i.click()})),s.blur((function(){o()(this).val().length>0&&Object(l.d)(s)})),d.blur((function(){o()(this).val().length>0&&Object(l.d)(d)})),m.click((function(e){var n=Object(l.c)(t),r=Object(l.g)(a),i=Object(l.d)(s),u=Object(l.f)(d);if(n&&r&&i&&u){var p=m.text();m.prop("disabled",!0),m.text("Submitting").addClass("loading"),Object(c.a)({email:t.val()},"two-step-reg",(function(e){var n,a;if(m.text(p).removeClass("loading"),m.prop("disabled",!1),e){switch(null==e||null===(n=e.spData)||void 0===n?void 0:n.isRegistered){case!1:Object(c.a)({email:t.val(),marketingParam:"abandon-email"},"two-step-reg"),k.text(""),v.addClass("u-hidden"),f.removeClass("u-hidden"),h.addClass("u-hidden"),w.removeClass("u-hidden"),null===C&&window.scrollTo({top:0,behavior:"smooth"}),setTimeout((function(){o()(".js-registration-form-phone").focus()}),100),void 0!==window.hj&&window.hj("event","View Onboarding Step2"),window.history.pushState({step:"STEP_TWO"},"","");break;case!0:k.html("The email you entered already exists as a registered user on our system. Please <a href=\"https://home.personalcapital.com/page/login/goHome\" onclick=\"ga('send', 'event', 'Internal Click', 'Existing user sign in', '".concat(window.canonicalUrl,"');\" onkeypress=\"ga('send', 'event', 'Internal Click', 'Existing user sign in', '").concat(window.canonicalUrl,'\');" class="pc-underline-link qa-form-error-sign-in-link js-sign-in-btn">Sign in</a>.'));break;default:k.text(null==e||null===(a=e.spHeader)||void 0===a?void 0:a.errors[0].message)}void 0!==window.hj&&window.hj("event","Submit Onboarding Step1")}else k.text("Technical difficulties, please try again later.")}))}else window.hj&&window.hj("event","triggered validation")})),b.on("keyup keypress",(function(e){13===(e.keyCode||e.which)&&(e.preventDefault(),O())})),b.click((function(e){e.preventDefault(),O()})),window.addEventListener("DOMContentLoaded",(function(){window.history.pushState({step:"STEP_ONE"},"","")})),window.onpopstate=function(){var e=v.is(":visible");e&&window.history.back(j-window.history.length),e||(O(),window.history.pushState({step:"STEP_ONE"},"",""))}}t(254);function v(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function f(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?v(Object(t),!0).forEach((function(n){b(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):v(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function b(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var k=Object(u.a)(),j=k.registrationFormHook,y=k.usernameInput,C=k.passwdInput,O=k.phoneNumberInput,S=k.firstNameInput,M=k.ageInput,P=k.retirementAgeInput,I=k.investableAssetsInput,x=k.submitButton,_=o()(".js-mobile-onboarding-step-one-submit"),E=o()(".js-mobile-onboarding-step-three-submit"),A=o()(".js-mobile-onboarding-step-four-submit"),N=o()(".js-mobile-onboarding-nav-steps"),R=o()(".js-mobile-onboarding-nav-step-four"),U=o()(".js-registration-form-mobile-onboarding"),D=o()(".js-mobile-onboarding-step-one"),T=o()(".js-mobile-onboarding-step-two"),H=o()(".js-mobile-onboarding-step-three"),F=o()(".js-mobile-onboarding-step-four"),W=o()(".js-two-step-back-btn"),V=o()(".js-form-error"),G="/static/images/rebrand/pages/onboarding/breadcrumb/BC-inverted-v4-1.svg",B="/static/images/rebrand/pages/onboarding/breadcrumb/BC-inverted-v4-2.svg",z="/static/images/rebrand/pages/onboarding/breadcrumb/BC-inverted-v4-3.svg",L=Object(s.getParameterByName)("partner"),q=Object(s.getParameterByName)("source"),J=o()("#affiliateDisclosure");function K(){U.toggleClass("u-hidden"),F.toggleClass("u-hidden"),N.toggleClass("u-hidden"),R.toggleClass("u-hidden"),void 0!==window.hj&&window.hj("event","View Mobile Onboarding Download Step")}function $(){function e(){D.toggleClass("u-hidden"),T.toggleClass("u-hidden"),N.attr("src",G),L&&J.toggleClass("u-hidden")}o()("".concat(j," input")).on("keypress",(function(e){return 13!==e.which})),o()("".concat(j," input")).keyup((function(e){13===(e.keyCode||e.which)&&_.click()}));var n,t={onComplete:function(){V.text(""),Object(l.h)(O)}};if(O.mask("(000) 000-0000",t),o()("".concat(j," .js-registration-form-phone")).keyup((function(e){x.prop("disabled",!1),13===(e.keyCode||e.which)&&x.click()})),S.blur((function(){o()(this).val().length>0&&Object(l.d)(S)})),M.blur((function(){o()(this).val().length>0&&Object(l.b)(M)})),P.blur((function(){o()(this).val().length>0&&Object(l.i)(P)})),I.blur((function(){o()(this).val().length>0&&Object(l.e)(I)})),q&&"blogBanner"===q&&o()(".js-registration-form-marketing-param").val("utmcsr=web|pcap_source=mobile-onboarding--blog"),L){switch(L){case"doughRoller":n="Welcome, <br/> Dough Roller Readers!";break;case"financialSamurai":n="Welcome, <br/> Financial Samurai Readers!";break;case"investorJunkie":n="Welcome, <br/> Investor Junkie Readers!";break;case"madFientist":n="Welcome, <br/> Mad Fientist Readers!";break;case"moneyning":n="Welcome, <br/> Moneyning Readers!";break;case"moneyUnder30":n="Welcome, <br/> Money Under 30 Readers!";break;case"mrMoneyMustache":n="Welcome, <br/> Mr. Money Mustache Readers!";break;case"retireBy40":n="Welcome, <br/> Retire By 40 Readers!";break;case"rootOfGood":n="Welcome, <br/> Root of Good Readers!";break;case"stockGumshoe":n="Welcome, <br/> Stock Gumshoe Readers!";break;case"twit":n="Welcome, <br/> TWiT Listeners!";break;case"nerdwallet":n="Welcome, <br/> NerdWallet Readers!";break;case"replyall":n="Welcome, <br/> Reply All Listeners!";break;case"walletHacks":n="Welcome, <br/> Wallet Hacks Readers!";break;case"benzinga":n="Welcome, <br/> Benzinga Readers!";break;case"MillennialMoney":n="Welcome, <br/> Millennial Money Readers!";break;case"ConsumerismCommentary":n="Welcome, <br/> Consumerism Commentary Readers!";break;case"mkm":n="Welcome, <br/> Marriage, Kids, & Money Listener!";break;default:n="Welcome,"}o()(".js-mobile-onboarding-affiliates-header").html(n),o()(".js-mobile-onboarding-affiliates-header").removeClass("u-hidden")}_.click((function(e){var n=Object(l.c)(y),t=Object(l.g)(C);if(n&&t){var a=_.text();_.prop("disabled",!0),_.text("Loading").addClass("loading"),Object(c.a)({email:y.val()},"two-step-reg",(function(e){var n,t;if(e){switch(_.text(a).removeClass("loading"),_.prop("disabled",!1),null==e||null===(n=e.spData)||void 0===n?void 0:n.isRegistered){case!1:Object(c.a)({email:y.val(),marketingParam:"abandon-email"},"two-step-reg"),V.text(""),D.addClass("u-hidden"),T.removeClass("u-hidden"),N.attr("src",B),L&&J.toggleClass("u-hidden"),void 0!==window.hj&&window.hj("event","View Mobile Onboarding Verify Step");break;case!0:V.html("The email you entered already exists as a registered user on our system. Please <a href=\"https://home.personalcapital.com/page/login/goHome\" onclick=\"ga('send', 'event', 'Internal Click', 'Existing user sign in', '".concat(window.canonicalUrl,"');\" onkeypress=\"ga('send', 'event', 'Internal Click', 'Existing user sign in', '").concat(window.canonicalUrl,'\');" class="pc-underline-link qa-form-error-sign-in-link js-sign-in-btn">Sign in</a>.'));break;default:V.text(null==e||null===(t=e.spHeader)||void 0===t?void 0:t.errors[0].message)}void 0!==window.hj&&window.hj("event","Submit Mobile Onboarding Register Step")}else V.text("Technical difficulties, please try again later.")}))}else window.hj&&window.hj("event","triggered validation")})),W.on("keyup keypress",(function(n){13===(n.keyCode||n.which)&&(n.preventDefault(),e())})),W.click((function(n){n.preventDefault(),e()})),E.on("click",(function(){var e=o()(this).text(),n=Object(l.d)(S),t=Object(l.b)(M),a=Object(l.i)(P),r=Object(l.e)(I);if(void 0!==window.hj&&window.hj("event","Submit Mobile Onboarding Personalization Step"),n&&t&&a&&r){o()(this).prop("disabled",!0),o()(this).text("Submitting").addClass("loading");var i=S.val(),s=i.slice(0,1).toUpperCase()+i.slice(1),d=f(f({},window.registerResponseCsrf),{},{person:JSON.stringify({name:{firstName:s},age:M.val(),retirementAge:P.val(),investableAssets:{userInputInvestableAssets:I.cleanVal()}})});Object(c.f)(d,(function(n){var t;(null==n||null===(t=n.spHeader)||void 0===t?void 0:t.success)?K():(o()(this).text(e).removeClass("loading"),o()(this).prop("disabled",!1),V.text("Technical difficulties, please try again later."))}))}})),A.on("click",(function(){void 0!==window.hj&&window.hj("event","Download Mobile Onboarding Download Step")}))}o()(".js-registration-form-age").mask("000"),o()(".js-registration-form-retirement-age").mask("00"),o()(".js-registration-form-investable-assets").mask("#,##0",{reverse:!0,maxlength:!1});var Z=t(511),Y=Object(s.getTrimmedPathname)(),Q={init:function(){var e=Object(u.a)(),n=e.registrationForm,t=e.usernameInput,a=e.passwdInput,r=e.phoneNumberInput,g=e.submitButton,m=e.marketingParam,v=e.marketingSource,f=e.personInput,b=e.firstNameInput,k=e.lastNameInput,j=e.zipCodeInput,y=e.accessCodeInput,C=e.skipFirstUseInput,O=!1;i.a.init(),Object(c.d)(n);var S=n.attr("data-form-variant");"two-step"===S&&(p(),""===m.val()&&m.attr("value","utmcsr=web|pcap_source=two_step_reg")),"onboarding"!==S||Y.match(/onboarding-v2/)||(h(),Object(s.getCookie)("submittedWildfireTest")&&m.attr("value","")),Y.match(/onboarding-v2/)&&w(),"mobile-onboarding"===S&&$(),Y.match(/co-reg/)&&Object(Z.a)();var M=o.a.pcap.device.type,P="iOS"===M||"Android"===M;window.device=M,window.isMobileDevice=P;var I=o()(".js-download-pdf-link")[0],x=o()(".js-pdf-download-btn"),_=JSON.parse(Object(s.getSessionStorageItem)("www-experiment-info"));window.optimizeSessionInfo=_,function(e){if(""!==Object(s.getParameterByName)("source")){var n,t=Object(s.getParameterByName)("source"),a="true"===Object(s.getParameterByName)("ql");"nerdwallet"===t?n="utmcmd=affiliateoffer|utmcsr=nerdwallet":"legalzoom"===t?n="utmcmd=affiliateoffer|utmcsr=legalzoom":"investorjunkie"===t?n="utmcmd=affiliateoffer|utmcsr=investorjunkie":"doughroller"===t?n="utmcmd=affiliateoffer|utmcsr=doughroller":"madlibs"===t?n=a?"utmcsr=re-ml__qq":"utmcsr=re-ml":"madlibs_v2"===t?n=a?"utmcsr=re-ml__qq|pcap_source=madlibs_v2":"utmcsr=re-ml|pcap_source=madlibs_v2":"madlibs_v2_nql"===t?n="utmcsr=web|pcap_source=madlibs_v2_nql":"drMail"===t?n="direct_mail":"drPrint"===t?n="print":"blog"===t?n="blog":"digital"===t&&(n="digital"),e.attr("value",n)}"PREREG_ABANDON_120120"===Object(s.getParameterByName)("utm_content")&&e.attr("value","utmcsr=email|pcap_source=abandon-email");var o=Boolean(Object(s.getParameterByName)("irclickid"));if(Object(s.getCookie)("impact_affiliate")&&!o){var r=Object(s.getCookie)("impact_affiliate");Object(s.updateImpactMarketingParam)(r)}}(m),P&!s.isProd&&n.attr("qa-mobile-attribution",window.currentAttributionTrackingUrl),t.blur((function(){o()(this).val().length>0&&(l.c(t),l.c(t)&&Object(c.b)(t.val()))})),a.blur((function(){o()(this).val().length>0&&l.g(a)})),r.blur((function(){o()(this).val().length>0&&l.h(r)})),o()(n).on("input",(function(){!1===O&&(window.hj&&window.hj("event","form interaction"),window.ga&&window.ga("send","event","Internal Click","Reg Form Interaction",window.canonicalUrl),O=!0)}));var E={onComplete:function(){o()(".js-form-error").text(""),l.h(r)}};r.mask("(000) 000-0000",E),o()(".js-registration-form input").keyup((function(e){g.prop("disabled",!1),13===(e.keyCode||e.which)&&g.click()})),g.click((function(e){var n=l.c(t),o=l.g(a),i=l.h(r);if("onboarding-v2"!==S&&(n&&o&&i?window.grecaptcha&&grecaptcha.execute():window.hj&&window.hj("event","triggered validation")),"onboarding-v2"===S&&j.val()){var s=l.j(j);n&&o&&i&&s?window.grecaptcha&&grecaptcha.execute():window.hj&&window.hj("event","triggered validation")}"onboarding-v2"===S&&""===j.val()&&(n&&o&&i?window.grecaptcha&&grecaptcha.execute():window.hj&&window.hj("event","triggered validation"))}));var A=function(){var e,i=g.text();g.prop("disabled",!0),o()(".js-onboarding-back-btns").prop("disabled",!0),g.text("Creating Account").addClass("loading");var s=n.find("#g-recaptcha-response"),u=sessionStorage.getItem("madlibsData");null!=u&&f.val(u),e=window.isMobileDevice?{flags:"PwPn",marketing_param:m.val(),marketing_source:v.val(),email:t.val(),passwd:a.val(),phoneNumber:r.val(),person:f.val(),skipFirstUse:C.val(),termsVersion:1,apiClient:"MOBILE_WEB","g-recaptcha-response":s.val()}:{flags:"IcpPn",marketing_param:m.val(),marketing_source:v.val(),email:t.val(),phoneNumber:r.val(),person:f.val(),skipFirstUse:C.val(),termsVersion:1,apiClient:"WEB"},Object(c.e)(e).fail((function(e){window.hj&&window.hj("event","register fail"),window.ga&&window.ga("send","event","Form Error","Register fail",window.canonicalUrl);for(var n=0;n<e.length;n++){var t=e[n],a=t.message,s=t.fieldName;355===t.code&&(a="Phone credential already active. Please <a href=\"https://home.personalcapital.com/page/login/goHome\" onclick=\"ga('send', 'event', 'Internal Click', 'active phone sign in', '".concat(window.canonicalUrl,"');\" onkeypress=\"ga('send', 'event', 'Internal Click', 'active phone sign in', '").concat(window.canonicalUrl,'\');" class="pc-underline-link qa-form-error-sign-in-link js-sign-in-btn">Sign in</a>.')),"phoneNumber"===s?(l.a(!1,r),o()(".phone .formHelp").html(a)):o()(".js-form-error").html(a),window.grecaptcha&&grecaptcha.reset(),o()("#g-recaptcha-response").val("")}g.text(i).removeClass("loading"),g.prop("disabled",!1),o()(".js-onboarding-back-btns").prop("disabled",!1)})).done((function(e){var t,a,r;(d(window.optimizeSessionInfo),"onboarding"!==S&&"onboarding-v2"!==S||(document.cookie="pcap_source=getting_started_v2;path=/;domain=".concat(document.domain.split(".").slice(1).join("."))),Y.match(/onboarding-v3/))&&(window.mixpanel&&(null===(t=window)||void 0===t||null===(a=t.mixpanel)||void 0===a||null===(r=a.people)||void 0===r||r.set({TestGroupID:"regphonelater1-test"})));if(!window.isMobileDevice&&window.downloadPdfGuideFlag&&!0===window.downloadPdfGuideFlag&&I.click(),window.isMobileDevice)if(dataLayer.push({userGuid:e.spHeader.userGuid,event:"/completed-registration"}),"mobile-onboarding"===S)"REQUIRES_VERIFICATION"===e.spHeader.status?K():(window.registerResponseCsrf={personId:e.spHeader.personId,csrf:e.spHeader.csrf,apiClient:"MOBILE_WEB",source:"Mobile Onboarding"},T.toggleClass("u-hidden"),H.toggleClass("u-hidden"),N.attr("src",z),void 0!==window.hj&&window.hj("event","View Mobile Onboarding Personalization Step"));else{"onboarding"===S&&(o()(".js-onboarding-nav-step-two").toggleClass("u-hidden"),o()(".js-onboarding-nav-step-three").toggleClass("u-hidden"));var i=n.closest(".c-www-content-container"),s=g.css("background-color"),l="rgb(0, 0, 0)"===i.parent().css("background-color")?"u-text-white":"",c="0px"===i.parent().css("padding-left")?"gutter-equal-sides":"";i.parent().css("background-image","none");var u="You're all set!",p="Download our free app to use our powerful financial tools.";Y.match("fly")&&(u="You're cleared for takeoff!",p="Download our free app then follow the 3 steps below to talk to an advisor."),i.html("<div class='js-mobile-sign-up-confirm-message qa-mobile-sign-up-confirm-message u-text-center u-padding-bottom-large ".concat(l," ").concat(c,"'><h1 class='u-text-center'><b>").concat(u,'</b></h1><p class="u-text-center u-responsive-copy">').concat(p,'</p><a href="').concat(window.currentAttributionTrackingUrl,"\" onkeypress=\"ga('send', 'event', 'Internal Click', 'Mobile App Download', '").concat(window.canonicalUrl,"');\" onclick=\"ga('send', 'event', 'Internal Click', 'Mobile App Download', '").concat(window.canonicalUrl,'\');" target="_blank" style="background-color:').concat(s,'" class="u-text-black pc-btn js-mobile-app-download-cta qa-mobile-app-download-cta">Download Our App</a>')),window.scrollTo({top:i.offset().top-124,behavior:"smooth"}),window.downloadPdfGuideFlag&&!0===window.downloadPdfGuideFlag&&(x.removeClass("pc-btn--wide"),o()(".js-mobile-sign-up-confirm-message").after('<div class="u-text-center js-mobile-pdf-download u-margin-bottom"><h2 class="u-text-center u-responsive-page-header">Get your free guide today.</h2></div>'),o()(".js-mobile-pdf-download").append(x[0])),o()(".js-mobile-app-icon-download").attr("href",window.currentAttributionTrackingUrl)}else{g.prop("disabled",!0);for(var m=0;m<n.length;m++)""!==o()(n[m]).find(".js-registration-form-username:visible").val()&&n[m].submit()}}))};window.submitRegForm=function(e){if(window.inSchedulingFlow)return window.openScheduler(),void(window.inSchedulingFlow=!1);o()(document).trigger("regFormSubmit"),o()("form .g-recaptcha-response").val(grecaptcha.getResponse());var n=b.val()?b.val():"",t=k.val()?k.val():"",a=j.val()?j.val():"";if(Object(s.getCookie)("submittedWildfireTest")?f.val(""):f.val(JSON.stringify({name:{firstName:n,lastName:t},address:{postalCode:a}})),"direct_mail"===m.val()||"print"===m.val()||"blog"===m.val()||"digital"===m.val()){var r=m.val();m.val("utmcsr="+r+"|pcap_source=direct_mail|pcap_promo_code="+y.val()),window.retireSmartGuideFlag&&!0===window.retireSmartGuideFlag&&window.open("/assets/email/Personal-Capital-Retire-Smart-Guide.pdf","_blank"),window.volatilityGuideFlag&&!0===window.volatilityGuideFlag&&window.open("/assets/public/Personal-Capital-Guide-to-Volatile-Markets.pdf/","_blank")}A()}}}},230:function(e,n,t){"use strict";t.d(n,"a",(function(){return m})),t.d(n,"c",(function(){return h})),t.d(n,"g",(function(){return w})),t.d(n,"h",(function(){return v})),t.d(n,"d",(function(){return f})),t.d(n,"f",(function(){return b})),t.d(n,"b",(function(){return k})),t.d(n,"i",(function(){return j})),t.d(n,"e",(function(){return y})),t.d(n,"j",(function(){return C}));var a=t(2),o=t.n(a),r={username:!1,password:!1,phoneNumber:!1,firstName:!1,lastName:!1,age:!1,retirementAge:!1,investableAssetsValue:!1,zipCode:!1},i=function(e){return e.length<=50&&/^[A-Za-z0-9._%+-]+@(([0-9a-z][-\w]*[0-9a-z]*\.)+[A-Za-z]{2,10})/i.test(e)},s=function(e){return e.length>=8&&e.length<=64},l=function(e){return/^\(?([0-9]{3})\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/.test(e)},c=function(e){return/^([^0-9]*)$/.test(e)&&e.length>0},d=function(e){return Boolean(e>=18&&e<=120)},u=function(e){return 5===e.toString().split("").length},p=function(e){return Boolean(e>=18&&e<=92)},g=function(e){return e.length>0},m=function(e,n,t){var a="";switch(t){case"email":a="usernameErrorMsg";break;case"password":a="passwdErrorMsg";break;case"phoneNumber":a="phoneNumberErrorMsg"}e?(n.removeClass("invalid"),n.siblings(".pc-registration__formHelp").removeClass("invalid").addClass("pc-registration__hide-until-invalid"),n.attr("aria-invalid","false"),n.removeAttr("aria-describedby")):(n.addClass("invalid"),n.siblings(".pc-registration__formHelp").addClass("invalid").removeClass("pc-registration__hide-until-invalid"),n.attr("aria-invalid","true"),""!==a&&n.attr("aria-describedby",a))},h=function(e){return r.username=i(e.val()),m(r.username,e,"email"),i(e.val())},w=function(e){return r.password=s(e.val()),m(r.password,e,"password"),s(e.val())},v=function(e){var n=e.val();return"1"===n.charAt(0)&&11===n.length&&e.val(n.substr(1)),r.phoneNumber=l(e.val()),m(r.phoneNumber,e,"phoneNumber"),r.phoneNumber?o()(".phone .formHelp").addClass("hide-until-invalid"):o()(".phone .formHelp").text("Please enter a valid 10 digit U.S. phone number"),l(e.val())},f=function(e){return r.firstName=c(e.val()),m(r.firstName,e),c(e.val())},b=function(e){return r.lastName=c(e.val()),m(r.lastName,e),c(e.val())},k=function(e){return r.age=d(e.val()),m(r.age,e),d(e.val())},j=function(e){return r.retirementAge=p(e.val()),m(r.retirementAge,e),p(e.val())},y=function(e){return r.investableAssets=g(e.val()),m(r.investableAssets,e),g(e.val())},C=function(e){return r.zipCode=u(e.val()),m(r.zipCode,e),u(e.val())}},237:function(e,n,t){"use strict";t.d(n,"d",(function(){return h})),t.d(n,"e",(function(){return w})),t.d(n,"b",(function(){return v})),t.d(n,"a",(function(){return f})),t.d(n,"c",(function(){return b})),t.d(n,"f",(function(){return k}));var a=t(2),o=t.n(a);function r(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?r(Object(t),!0).forEach((function(n){s(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function s(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var l="https://home.personalcapital.com/api/registration/registerUser",c="https://home.personalcapital.com/page/login/registerUser",d="https://home.personalcapital.com/api/login/validateEmail",u="https://home.personalcapital.com/api/public/identifyUserStatus",p="https://home.personalcapital.com/api/public/upsertUserThroughIG",g="https://home.personalcapital.com/api/registration/getCoregUserInfo",m="https://home.personalcapital.com/api/person/updatePerson";o.a.ajaxSetup({xhrFields:{withCredentials:!0}});var h=function(e){var n,t=window.location.hostname.split(".")[0].split("www-")[1]||"devtrunk",a="https://".concat(t,".pcapcloud.com");if("www.personalcapital.com"!==window.location.hostname){var o=!1;"www-local.pcapcloud.com"===window.location.hostname&&(o=!0,n="https://devstaging.pcapcloud.com"),l=l.replace("https://home.personalcapital.com",o?n:a),c=c.replace("https://home.personalcapital.com",o?n:a),d=d.replace("https://home.personalcapital.com",o?n:a),u=u.replace("https://home.personalcapital.com",o?n:a),p=p.replace("https://home.personalcapital.com",o?n:a),g=g.replace("https://home.personalcapital.com",o?n:a),m=m.replace("https://home.personalcapital.com",o?n:a),e.attr("action",c)}},w=function(e){var n=performance.now(),t=o.a.Deferred();return o.a.post(l,e,(function(e){if(e.spHeader&&e.spHeader.errors&&e.spHeader.errors.length>0){var a,o,r,i,s,l,c,d,u,p,g,m;if(window.ga)if(window.ga("send","event","Form Error","Error Code: ".concat(null===(a=e.spHeader)||void 0===a||null===(o=a.errors[0])||void 0===o?void 0:o.code,", ").concat(null===(r=e.spHeader)||void 0===r||null===(i=r.errors[0])||void 0===i?void 0:i.message),window.canonicalUrl),window.hj)window.hj("identify",null===(s=e.spHeader)||void 0===s?void 0:s.userGuid,{Error_Code:null===(l=e.spHeader)||void 0===l||null===(c=l.errors[0])||void 0===c?void 0:c.code,Error_Message:null===(d=e.spHeader)||void 0===d||null===(u=d.errors[0])||void 0===u?void 0:u.message,Invalid_Form_Field:null===(p=e.spHeader)||void 0===p||null===(g=p.errors[0])||void 0===g||null===(m=g.details)||void 0===m?void 0:m.fieldName});t.reject(e.spHeader.errors)}else{var h=performance.now(),w=Math.round(h-n);window.ga&&(window.ga("send","timing","registerUserApi",window.canonicalUrl,w),window.hj&&window.hj("event","registerUserApi=".concat(w,"ms"))),t.resolve(e)}})).fail((function(e,n,a){window.ga&&window.ga("send","event","Form Error","Register Reject: ".concat(n,", ").concat(a),window.canonicalUrl),window.hj&&window.hj("event","Register Reject: ".concat(n,", ").concat(a)),t.reject([{message:"An error has occurred!"}])})),t.promise()},v=function(e){var n={email:e,apiClient:"WEB"};o.a.post(d,n).fail((function(e,n,t){window.ga&&window.ga("send","event","Form Error","callValidateEmail error(): ".concat(t),window.canonicalUrl),window.hj&&window.hj("event","callValidateEmail error(): ".concat(t))}))},f=function(e,n,t){var a={email:e.email,marketing_param:e.marketingParam},r=performance.now();o.a.ajax({url:"/api/public/identifyUserStatus",data:a,type:"POST",dataType:"json",error:function(e,n,a){window.ga&&window.ga("send","event","Form Error","identifyUserStatusUrl error():".concat(a),window.canonicalUrl),window.hj&&window.hj("event","identifyUserStatusUrl error(): ".concat(a)),t&&t(!1)},success:function(e){var a,o,i,s,l,c,d,u,p;e.spHeader&&e.spHeader.errors&&e.spHeader.errors.length>0&&(window.ga&&(window.ga("send","event","Form Error","identifyUserStatusUrl success() error: ".concat(null===(o=e.spHeader)||void 0===o||null===(i=o.errors[0])||void 0===i?void 0:i.code,", ").concat(null===(s=e.spHeader)||void 0===s||null===(l=s.errors[0])||void 0===l?void 0:l.message),window.canonicalUrl),window.hj&&window.hj("event","identifyUserStatusUrl success() error: ".concat(null===(c=e.spHeader)||void 0===c||null===(d=c.errors[0])||void 0===d?void 0:d.code,", ").concat(null===(u=e.spHeader)||void 0===u||null===(p=u.errors[0])||void 0===p?void 0:p.message))));switch(n){case"two-step-reg":a=!0;break;case"pre-reg":default:a=!1===e.spData.isRegistered&&!1===e.spData.isRequiresVerification}if(a&&t){var g=performance.now(),m=Math.round(g-r);window.ga&&(window.ga("send","timing","identifyUserApi",window.canonicalUrl,m),window.hj&&window.hj("event","identifyUserApi=".concat(m,"ms"))),t(e)}}})},b=function(e,n){o.a.ajax({url:g,data:JSON.stringify({coregToken:e}),type:"POST",contentType:"application/json",error:function(e,n,t){window.ga&&window.ga("send","event","Form Error","getCoregUserInfo error(): ".concat(t),window.canonicalUrl),window.hj&&window.hj("event","getCoregUserInfo error: ".concat(t))},success:function(e){var t,a,o,r,i,s,l,c;e.spHeader&&e.spHeader.errors&&e.spHeader.errors.length>0&&(window.ga&&(window.ga("send","event","Form Error","getCoregUserInfo Error: ".concat(null===(t=e.spHeader)||void 0===t||null===(a=t.errors[0])||void 0===a?void 0:a.code,", ").concat(null===(o=e.spHeader)||void 0===o||null===(r=o.errors[0])||void 0===r?void 0:r.message),window.canonicalUrl),window.hj&&(window.hj("event","Error Code: ".concat(null===(i=e.spHeader)||void 0===i||null===(s=i.errors[0])||void 0===s?void 0:s.code)),window.hj("event","Error Message: ".concat(null===(l=e.spHeader)||void 0===l||null===(c=l.errors[0])||void 0===c?void 0:c.message)))));n&&n(e)}})},k=function(e,n){o.a.ajax({url:m,data:i(i({},e),{},{lastServerChangeId:-1}),type:"POST",dataType:"json",xhrFields:{withCredentials:!0},error:function(e,t,a){window.ga&&window.ga("send","event","Form Error","updatePerson error(): ".concat(a),window.canonicalUrl),window.hj&&window.hj("event","updatePerson error: ".concat(a)),n&&n(!1)},success:function(e){var t,a,o,r,i,s,l,c;e.spHeader&&e.spHeader.errors&&e.spHeader.errors.length>0&&(window.ga&&(window.ga("send","event","Form Error","updatePerson Error: ".concat(null===(t=e.spHeader)||void 0===t||null===(a=t.errors[0])||void 0===a?void 0:a.code,", ").concat(null===(o=e.spHeader)||void 0===o||null===(r=o.errors[0])||void 0===r?void 0:r.message),window.canonicalUrl),window.hj&&(window.hj("event","Error Code: ".concat(null===(i=e.spHeader)||void 0===i||null===(s=i.errors[0])||void 0===s?void 0:s.code)),window.hj("event","Error Message: ".concat(null===(l=e.spHeader)||void 0===l||null===(c=l.errors[0])||void 0===c?void 0:c.message)))));n&&n(e)}})}},254:function(e,n,t){(function(a,o){var r,i,s;function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var c=c||{};c.scope={},c.findInternal=function(e,n,t){e instanceof String&&(e=String(e));for(var a=e.length,o=0;o<a;o++){var r=e[o];if(n.call(t,r,o,e))return{i:o,v:r}}return{i:-1,v:void 0}},c.ASSUME_ES5=!1,c.ASSUME_NO_NATIVE_MAP=!1,c.ASSUME_NO_NATIVE_SET=!1,c.SIMPLE_FROUND_POLYFILL=!1,c.defineProperty=c.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(e,n,t){e!=Array.prototype&&e!=Object.prototype&&(e[n]=t.value)},c.getGlobal=function(e){return"undefined"!=typeof window&&window===e?e:void 0!==a&&null!=a?a:e},c.global=c.getGlobal(this),c.polyfill=function(e,n,t,a){if(n){for(t=c.global,e=e.split("."),a=0;a<e.length-1;a++){var o=e[a];o in t||(t[o]={}),t=t[o]}(n=n(a=t[e=e[e.length-1]]))!=a&&null!=n&&c.defineProperty(t,e,{configurable:!0,writable:!0,value:n})}},c.polyfill("Array.prototype.find",(function(e){return e||function(e,n){return c.findInternal(this,e,n).v}}),"es6","es3"),window.Zepto,i=[t(2)],void 0===(s="function"==typeof(r=function(e){var n=function(n,t,a){var o={invalid:[],getCaret:function(){try{var e=0,t=n.get(0),a=document.selection,r=t.selectionStart;if(a&&-1===navigator.appVersion.indexOf("MSIE 10")){var i=a.createRange();i.moveStart("character",-o.val().length),e=i.text.length}else(r||"0"===r)&&(e=r);return e}catch(e){}},setCaret:function(e){try{if(n.is(":focus")){var t=n.get(0);if(t.setSelectionRange)t.setSelectionRange(e,e);else{var a=t.createTextRange();a.collapse(!0),a.moveEnd("character",e),a.moveStart("character",e),a.select()}}}catch(e){}},events:function(){n.on("keydown.mask",(function(e){n.data("mask-keycode",e.keyCode||e.which),n.data("mask-previus-value",n.val()),n.data("mask-previus-caret-pos",o.getCaret()),o.maskDigitPosMapOld=o.maskDigitPosMap})).on(e.jMaskGlobals.useInput?"input.mask":"keyup.mask",o.behaviour).on("paste.mask drop.mask",(function(){setTimeout((function(){n.keydown().keyup()}),100)})).on("change.mask",(function(){n.data("changed",!0)})).on("blur.mask",(function(){s===o.val()||n.data("changed")||n.trigger("change"),n.data("changed",!1)})).on("blur.mask",(function(){s=o.val()})).on("focus.mask",(function(n){!0===a.selectOnFocus&&e(n.target).select()})).on("focusout.mask",(function(){a.clearIfNotMatch&&!r.test(o.val())&&o.val("")}))},getRegexMask:function(){for(var e,n,a,o,r=[],s=0;s<t.length;s++)(e=i.translation[t.charAt(s)])?(n=e.pattern.toString().replace(/.{1}$|^.{1}/g,""),a=e.optional,(e=e.recursive)?(r.push(t.charAt(s)),o={digit:t.charAt(s),pattern:n}):r.push(a||e?n+"?":n)):r.push(t.charAt(s).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"));return r=r.join(""),o&&(r=r.replace(new RegExp("("+o.digit+"(.*"+o.digit+")?)"),"($1)?").replace(new RegExp(o.digit,"g"),o.pattern)),new RegExp(r)},destroyEvents:function(){n.off("input keydown keyup paste drop blur focusout ".split(" ").join(".mask "))},val:function(e){var t=n.is("input")?"val":"text";return 0<arguments.length?(n[t]()!==e&&n[t](e),t=n):t=n[t](),t},calculateCaretPosition:function(e){var t=o.getMasked(),a=o.getCaret();if(e!==t){var r=n.data("mask-previus-caret-pos")||0;t=t.length;var i,s=e.length,l=e=0,c=0,d=0;for(i=a;i<t&&o.maskDigitPosMap[i];i++)l++;for(i=a-1;0<=i&&o.maskDigitPosMap[i];i--)e++;for(i=a-1;0<=i;i--)o.maskDigitPosMap[i]&&c++;for(i=r-1;0<=i;i--)o.maskDigitPosMapOld[i]&&d++;a>s?a=10*t:r>=a&&r!==s?o.maskDigitPosMapOld[a]||(r=a,a=a-(d-c)-e,o.maskDigitPosMap[a]&&(a=r)):a>r&&(a=a+(c-d)+l)}return a},behaviour:function(t){t=t||window.event,o.invalid=[];var a=n.data("mask-keycode");if(-1===e.inArray(a,i.byPassKeys)){a=o.getMasked();var r=o.getCaret(),s=n.data("mask-previus-value")||"";return setTimeout((function(){o.setCaret(o.calculateCaretPosition(s))}),e.jMaskGlobals.keyStrokeCompensation),o.val(a),o.setCaret(r),o.callbacks(t)}},getMasked:function(e,n){var r,s=[],l=void 0===n?o.val():n+"",c=0,d=t.length,u=0,p=l.length,g=1,m="push",h=-1,w=0;if(n=[],a.reverse){m="unshift",g=-1;var v=0;c=d-1,u=p-1;var f=function(){return-1<c&&-1<u}}else v=d-1,f=function(){return c<d&&u<p};for(;f();){var b=t.charAt(c),k=l.charAt(u),j=i.translation[b];j?(k.match(j.pattern)?(s[m](k),j.recursive&&(-1===h?h=c:c===v&&c!==h&&(c=h-g),v===h&&(c-=g)),c+=g):k===r?(w--,r=void 0):j.optional?(c+=g,u-=g):j.fallback?(s[m](j.fallback),c+=g,u-=g):o.invalid.push({p:u,v:k,e:j.pattern}),u+=g):(e||s[m](b),k===b?(n.push(u),u+=g):(r=b,n.push(u+w),w++),c+=g)}return e=t.charAt(v),d!==p+1||i.translation[e]||s.push(e),s=s.join(""),o.mapMaskdigitPositions(s,n,p),s},mapMaskdigitPositions:function(e,n,t){for(e=a.reverse?e.length-t:0,o.maskDigitPosMap={},t=0;t<n.length;t++)o.maskDigitPosMap[n[t]+e]=1},callbacks:function(e){var r=o.val(),i=r!==s,l=[r,e,n,a],c=function(e,n,t){"function"==typeof a[e]&&n&&a[e].apply(this,t)};c("onChange",!0===i,l),c("onKeyPress",!0===i,l),c("onComplete",r.length===t.length,l),c("onInvalid",0<o.invalid.length,[r,e,n,o.invalid,a])}};n=e(n);var r,i=this,s=o.val();t="function"==typeof t?t(o.val(),void 0,n,a):t,i.mask=t,i.options=a,i.remove=function(){var e=o.getCaret();return i.options.placeholder&&n.removeAttr("placeholder"),n.data("mask-maxlength")&&n.removeAttr("maxlength"),o.destroyEvents(),o.val(i.getCleanVal()),o.setCaret(e),n},i.getCleanVal=function(){return o.getMasked(!0)},i.getMaskedVal=function(e){return o.getMasked(!1,e)},i.init=function(s){if(s=s||!1,a=a||{},i.clearIfNotMatch=e.jMaskGlobals.clearIfNotMatch,i.byPassKeys=e.jMaskGlobals.byPassKeys,i.translation=e.extend({},e.jMaskGlobals.translation,a.translation),i=e.extend(!0,{},i,a),r=o.getRegexMask(),s)o.events(),o.val(o.getMasked());else{a.placeholder&&n.attr("placeholder",a.placeholder),n.data("mask")&&n.attr("autocomplete","off"),s=0;for(var l=!0;s<t.length;s++){var c=i.translation[t.charAt(s)];if(c&&c.recursive){l=!1;break}}l&&n.attr("maxlength",t.length).data("mask-maxlength",!0),o.destroyEvents(),o.events(),s=o.getCaret(),o.val(o.getMasked()),o.setCaret(s)}},i.init(!n.is("input"))};e.maskWatchers={};var t=function(){var t=e(this),o={},r=t.attr("data-mask");if(t.attr("data-mask-reverse")&&(o.reverse=!0),t.attr("data-mask-clearifnotmatch")&&(o.clearIfNotMatch=!0),"true"===t.attr("data-mask-selectonfocus")&&(o.selectOnFocus=!0),a(t,r,o))return t.data("mask",new n(this,r,o))},a=function(n,t,a){a=a||{};var o=e(n).data("mask"),r=JSON.stringify;n=e(n).val()||e(n).text();try{return"function"==typeof t&&(t=t(n)),"object"!==l(o)||r(o.options)!==r(a)||o.mask!==t}catch(e){}},o=function(e){var n=document.createElement("div"),t=(e="on"+e)in n;return t||(n.setAttribute(e,"return;"),t="function"==typeof n[e]),t};e.fn.mask=function(t,o){o=o||{};var r=this.selector,i=e.jMaskGlobals,s=i.watchInterval;i=o.watchInputs||i.watchInputs;var l=function(){if(a(this,t,o))return e(this).data("mask",new n(this,t,o))};return e(this).each(l),r&&""!==r&&i&&(clearInterval(e.maskWatchers[r]),e.maskWatchers[r]=setInterval((function(){e(document).find(r).each(l)}),s)),this},e.fn.masked=function(e){return this.data("mask").getMaskedVal(e)},e.fn.unmask=function(){return clearInterval(e.maskWatchers[this.selector]),delete e.maskWatchers[this.selector],this.each((function(){var n=e(this).data("mask");n&&n.remove().removeData("mask")}))},e.fn.cleanVal=function(){return this.data("mask").getCleanVal()},e.applyDataMask=function(n){((n=n||e.jMaskGlobals.maskElements)instanceof e?n:e(n)).filter(e.jMaskGlobals.dataMaskAttr).each(t)},o={maskElements:"input,td,span,div",dataMaskAttr:"*[data-mask]",dataMask:!0,watchInterval:300,watchInputs:!0,keyStrokeCompensation:10,useInput:!/Chrome\/[2-4][0-9]|SamsungBrowser/.test(window.navigator.userAgent)&&o("input"),watchDataMask:!1,byPassKeys:[9,16,17,18,36,37,38,39,40,91],translation:{0:{pattern:/\d/},9:{pattern:/\d/,optional:!0},"#":{pattern:/\d/,recursive:!0},A:{pattern:/[a-zA-Z0-9]/},S:{pattern:/[a-zA-Z]/}}},e.jMaskGlobals=e.jMaskGlobals||{},(o=e.jMaskGlobals=e.extend(!0,{},o,e.jMaskGlobals)).dataMask&&e.applyDataMask(),setInterval((function(){e.jMaskGlobals.watchDataMask&&e.applyDataMask()}),o.watchInterval)})?r.apply(n,i):r)||(e.exports=s)}).call(this,t(13),t(2))},283:function(e,n,t){var a,o;a=[t(2)],void 0===(o=function(e){return{init:function(){e(".js-form-input").on("change",(function(){e(this).attr("value",e(this).val())}))}}}.apply(n,a))||(e.exports=o)},320:function(e,n,t){"use strict";t.r(n),t.d(n,"showPersonalizeStep",(function(){return w})),t.d(n,"showVerifyStep",(function(){return v})),t.d(n,"onboardingV3Steps",(function(){return f}));var a=t(2),o=t.n(a),r=t(35),i=o()(".js-onboarding-v3-nav-step-one"),s=o()(".js-onboarding-v3-nav-step-two"),l=o()(".js-onboarding-v3-nav-step-three"),c=o()(".js-onboarding-step-register"),d=o()(".js-onboarding-step-personalize"),u=o()(".js-onboarding-step-verify"),p=o()(".js-step-personalize-back-btn"),g=o()(".js-step-verify-back-btn"),m=o()(".js-form-error");function h(){d.addClass("u-hidden"),u.addClass("u-hidden"),c.removeClass("u-hidden"),i.removeClass("u-hidden"),s.addClass("u-hidden"),l.addClass("u-hidden")}var w=function(){m.text(""),c.addClass("u-hidden"),u.addClass("u-hidden"),d.removeClass("u-hidden"),i.addClass("u-hidden"),s.removeClass("u-hidden"),l.addClass("u-hidden"),window.scrollTo({top:0,behavior:"smooth"}),setTimeout((function(){o()(".js-pc-madlibs-input--first-name").focus()}),100),void 0!==window.hj&&window.hj("event","View Onboarding-V3 Step Personalize"),window.ga&&window.ga("send","event","Form","View Onboarding-V3 Step Personalize",window.canonicalUrl)},v=function(){m.text(""),c.addClass("u-hidden"),d.addClass("u-hidden"),u.removeClass("u-hidden"),i.addClass("u-hidden"),s.addClass("u-hidden"),l.removeClass("u-hidden"),window.scrollTo({top:0,behavior:"smooth"}),setTimeout((function(){o()(".js-registration-form-phone").focus()}),100),void 0!==window.hj&&window.hj("event","View Onboarding-V3 Step Verify"),window.ga&&window.ga("send","event","Form","View Onboarding-V3 Step Verify",window.canonicalUrl),window.history.pushState({step:"STEP_THREE"},"","")},f=function(){r.timingFunction.onLoad((function(){void 0!==window.hj&&window.hj("event","View Onboarding-V3 Step Register"),window.ga&&window.ga("send","event","Form","View Onboarding-V3 Step Register",window.canonicalUrl)})),p.on("keyup keypress",(function(e){13===(e.keyCode||e.which)&&(e.preventDefault(),h())})),p.click((function(e){e.preventDefault(),h()})),g.on("keyup keypress",(function(e){13===(e.keyCode||e.which)&&(e.preventDefault(),w())})),g.click((function(e){e.preventDefault(),w()})),o()(".js-onboarding-step-personalize input").keyup((function(e){13===(e.keyCode||e.which)&&o()(".js-madlibs-submit-button").click()}))}},511:function(e,n,t){"use strict";(function(e){t.d(n,"a",(function(){return s}));var a=t(1),o=t(237),r=t(230),i=t(61);function s(){var n=Object(i.a)().phoneNumberInput,t=Object(a.getParameterByName)("partner"),s=Object(a.getParameterByName)("email"),l=e(".js-co-reg-partner-header"),c=e(".js-have-co-reg-partner"),d=e(".js-co-reg-partner-relationship"),u=e(".js-co-reg-partner-name"),p=e(".js-co-reg-partner-disclosure"),g=e(".js-co-reg-partner-terms"),m=function(e){switch(e){case"smartAsset":case"SmartAsset":l.html("Welcome <img width='500' height='73' style='aspect-ratio:500/73' src='/static/images/rebrand/pages/co-reg/logo/co-reg-smart-asset.png' class='co-reg__partner-logo co-reg__partner-logo--smart-asset' alt=\"SmartAsset\"/> Reader"),u.text("SmartAsset"),d.html("SmartAsset's"),p.attr("href","/content/smart-asset-disclosures/"),t="SmartAsset";break;case"magnifyMoney":case"MagnifyMoney":case"LendingTree":l.html("Welcome MagnifyMoney Reader"),u.text("MagnifyMoney"),d.html("MagnifyMoney's"),p.attr("href","/content/lending-tree-disclosures/"),t="LendingTree";break;case"goFinancialAdvice":case"GoFinancialAdvice":case"ConsumerTrack":l.html("Welcome <img width='196' height='28' style='aspect-ratio:196/28' src='/static/images/rebrand/pages/co-reg/logo/co-reg-go-financial-advice.svg' class='co-reg__partner-logo co-reg__partner-logo--go-financial-advice' alt=\"GOFinancialAdvice\"/> Reader"),u.text("GOFinancialAdvice"),d.html("GOFinancialAdvice's"),p.attr("href","/content/consumer-track-disclosures/"),t="ConsumerTrack";break;case"wiserAdvisor":case"WiserAdvisor":l.html("Welcome <img width='500' height='76' style='aspect-ratio:500/76' src='/static/images/rebrand/pages/co-reg/logo/co-reg-wiser-advisor.png' class='co-reg__partner-logo co-reg__partner-logo--wiseradvisor' alt=\"WiserAdvisor\"/> Reader"),d.html("WiserAdvisor's"),p.attr("href","/content/wiseradvisor-disclosures/"),t="WiserAdvisor";break;case"Morningstar":l.html("Welcome Morningstar Reader"),d.html("Morningstar's"),p.attr("href","/content/morningstar-disclosures/");break;default:l.html("Welcome"),g.remove()}};t&&(m(t),e(".js-registration-form-marketing-param").val("utmcsr=web|pcap_source=".concat(t)),l.append(",")),s&&e(".js-co-reg-partner-token-email").attr("value",decodeURIComponent(s));var h=Object(a.getParameterByName)("coregToken");(t||h)&&c.removeClass("u-hidden"),h&&Object(o.c)(h,(function(t){if(t&&t.spData){var a=t.spData;a.marketingId&&m(a.marketingId),a.firstName?e(".js-co-reg-partner-token-name").html("Hey ".concat(a.firstName,",")):(e(".js-co-reg-partner-token-name").remove(),e(".js-co-reg-partner-header").append(","),e(".js-co-reg-partner-header").removeClass("u-responsive-copy"),e(".js-co-reg-partner-header").addClass("u-responsive-hero-header u-text-clarendon"),e(".js-co-reg-partner-header").attr("role","heading"),e(".js-co-reg-partner-header").attr("aria-level","1")),a.emailAddress&&(e(".js-co-reg-partner-token-email").prop("readonly",!0),e(".js-co-reg-partner-token-email").attr("value",a.emailAddress)),a.phone&&(e(".js-co-reg-partner-token-phone-number").prop("readonly",!0),e(".js-co-reg-partner-token-phone-number").attr("value",a.phone),setTimeout((function(){Object(r.h)(n)}),100))}else e(".js-co-reg-partner-token-name").text("Welcome,"),g.remove()}))}}).call(this,t(2))}}]);